# Code generated by kickr; DO NOT EDIT.

---
include:
  # Renovate template
  # https://gitlab.com/to-be-continuous/renovate
  - project: to-be-continuous/renovate
    ref: 9b2d7f51d4c059b28e5c8e72a4eb5d21e34887d5 # 1.12.1
    file: templates/gitlab-ci-renovate.yml

variables:
  RENOVATE_CONFIG_FILE: .gitlab/renovate.json
  RENOVATE_ENDPOINT: "" # force empty endpoint to let Renovate choose with RENOVATE_PLATFORM (or server configuration platform)
  RENOVATE_PLATFORM: github

.renovate-rules: &renovate-rules
  rules:
    # see https://gitlab.com/to-be-continuous/renovate/-/blob/master/templates/gitlab-ci-renovate.yml?ref_type=heads#L348
    # update mode only with schedule triggering
    - if: $CI_PIPELINE_SOURCE == 'schedule'
      variables:
        RENOVATE_DRY_RUN: "false"
    # dry run with web triggering
    - if: $CI_PIPELINE_SOURCE == 'web'

renovate-validator:
  rules:
    - when: never # validates projects configurations and not server configurations

renovate-depcheck:
  <<: *renovate-rules
